<!--<app-presentation *ngIf="showPresentation" (finished)="onPresentationFinished()"></app-presentation> -->

<div class="login-background" > <!-- *ngIf="!showPresentation" -->
  <div class="login-card">
    <div class="login-header">
      <!-- <img src="assets/logo-magic.png" alt="Logo del Juego" class="login-logo" /> -->
      <h1 class="login-title">LORA</h1>
    </div>
    <form (ngSubmit)="isRegisterMode ? register() : login()">
      <div class="login-input-group">
        <span class="input-icon">
          <!-- SVG de usuario estilo medieval -->
          <svg
            width="22"
            height="22"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <circle
              cx="12"
              cy="8"
              r="4.2"
              stroke="#d4af37"
              stroke-width="1.5"
              fill="#2e2410"
            />
            <path
              d="M4.5 20c0-3.3 3.7-6 7.5-6s7.5 2.7 7.5 6"
              stroke="#d4af37"
              stroke-width="1.5"
              fill="#23201b"
            />
          </svg>
        </span>
        <input
          type="text"
          placeholder="Usuario"
          name="username"
          required
          [(ngModel)]="username"
        />
      </div>
      <div class="login-input-group">
        <span class="input-icon">
          <!-- SVG de candado estilo medieval -->
          <svg
            width="22"
            height="22"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <rect
              x="5"
              y="10"
              width="14"
              height="9"
              rx="3"
              fill="#2e2410"
              stroke="#d4af37"
              stroke-width="1.5"
            />
            <path
              d="M8 10V7a4 4 0 1 1 8 0v3"
              stroke="#d4af37"
              stroke-width="1.5"
              fill="none"
            />
            <circle cx="12" cy="15" r="1.3" fill="#d4af37" />
          </svg>
        </span>
        <input
          type="password"
          placeholder="Contraseña"
          name="password"
          required
          [(ngModel)]="password"
        />
      </div>
      <div class="login-options">
        <label class="login-label-remember-checkbox">
          <input type="checkbox" name="remember" /> Recordar sesión
        </label>
      </div>
      <div class="login-options">
        <a href="#" class="login-link">¿Olvidaste tu contraseña?</a>
      </div>
      <button class="login-btn" type="submit" [disabled]="loading">
        {{ isRegisterMode ? 'Registrarse' : 'Iniciar sesión' }}
      </button>
      <div class="login-message">
        <!-- Aquí se mostrarán mensajes de error o información -->
      </div>
    </form>
    <button (click)="toggleMode()" type="button" [disabled]="loading" class="link-btn">
      {{ isRegisterMode ? '¿Ya tienes cuenta? Inicia sesión' : '¿No tienes cuenta? Regístrate' }}
    </button>
    <div *ngIf="message" class="success">{{ message }}</div>
    <div *ngIf="error" class="error">{{ error }}</div>
  </div>
</div>
